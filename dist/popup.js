(()=>{var e,t,a,s={4818:(e,t,a)=>{"use strict";var s=a(7294),r=a(745),o=a(9250);const n="#8a99ad",l="#101418",c="#1976d2",i="#37baf4",u="#ec1010",m="rgba(11, 199, 39, 1)";var d=a(8764),p=a(7162),f=a(3977),h=a(3953),g=a(8721);const y=(0,f.ZF)({apiKey:"AIzaSyAuAbM9vWX_oOHiydBTTHQPJR7EwcxlMcY",authDomain:"hatchat-1.firebaseapp.com",projectId:"hatchat-1",storageBucket:"hatchat-1.appspot.com",messagingSenderId:"908354005346",appId:"1:908354005346:web:5abfb60e3a6fb5e608a43b"}),E=(0,h.ad)(y),x=async e=>{const t=(0,h.JU)(E,"usersPublic",e),a=await(0,h.QT)(t);return a.exists()&&(chrome.storage.local.set({userKeyPassword:!0}),console.log("El usuario existe")),a.exists()},b=async e=>{const t=(0,h.JU)(E,"usersPublic",e),a=await(0,h.QT)(t);return a.exists()?(console.log("Usuario encontrado:",a.data()),a.data()):(console.log("No se encontró el usuario con el UID:",e),null)},w=async e=>{const t=(0,h.hJ)(E,"chats"),a=(0,h.IO)(t,(0,h.ar)("users","array-contains",e));try{const e=await(0,h.PL)(a),t=[];return e.forEach((e=>{t.push(e.id)})),t}catch(e){return console.error("Error al obtener los chats para el usuario:",e),[]}};function v(e,t){try{chrome.storage.local.set({[e]:t},(()=>{chrome.runtime.lastError?console.log("Error saving in local:",chrome.runtime.lastError):console.log("User information saved in local storage")}))}catch(e){console.log("Error saving in local",e)}}async function N(e,t){let a=await S("usersKeys"),{encryptedPrivateKey:s,iv:r,salt:o}=a,n=Z(s,await k(),r,o);await chrome.storage.local.get("chat-users",(a=>{chrome.runtime.lastError&&console.log("Error selecting chat:",chrome.runtime.lastError);let s=a["chat-users"]||[];if(console.log(a),0===s.length)return;let r=s.filter((t=>t.chat.id===e))[0],o=r.users,l=o.filter((e=>e.uid===t))[0],c=o.indexOf(l),i=r.chat.sessionKeys[c],u=function(e,t){const a=new p.Z;return a.setPrivateKey(e),a.decrypt(t)}(n,i);chrome.runtime.sendMessage({message:"setSessionKey",sessionKey:u})}))}async function S(e){return new Promise(((t,a)=>{chrome.storage.local.get(e,(s=>{if(chrome.runtime.lastError)return console.error("Error en chrome.storage:",chrome.runtime.lastError),void a(chrome.runtime.lastError);s.hasOwnProperty(e)?(console.log("dataFromChromeLocal",s[e]),t(s[e])):t(null)}))}))}function C(e){chrome.runtime.sendMessage({message:"setPass",pass:e})}function k(){return new Promise(((e,t)=>{chrome.runtime.sendMessage({message:"getPass"},(function(a){chrome.runtime.lastError?t(new Error(chrome.runtime.lastError.message)):e(a.pass)}))}))}const P=a(5835);function Z(e,t,a,s){const r=P.pbkdf2Sync(t,d.Buffer.from(s,"hex"),1e5,32,"sha512"),o=d.Buffer.from(a,"hex"),n=P.createDecipheriv("aes-256-cbc",r,o);let l=n.update(e,"hex","utf8");return l+=n.final("utf8"),l}async function K(e){try{const t=await S("user");if(t){const{uid:a}=t,{email:s,iv:r,password:o,privateKey:n,salt:l}=e,c=await(async e=>{const t=(0,h.JU)(E,"usersPublic",e),a=await(0,h.QT)(t);return a.exists()?(console.log("Clave pública: ",a.data().publicKey),a.data().publicKey):(console.log("No se encontró el documento para el UID: ",e),null)})(a),i=function(e,t){const a=new p.Z;a.setPublicKey(e),a.setPrivateKey(t);const s="Mensaje de prueba",r=a.encrypt(s);if(!r)throw new Error("La cifrado con la clave pública falló");const o=a.decrypt(r);if(!o)throw new Error("El descifrado con la clave privada falló");return o===s?(console.log("La clave privada corresponde a la clave pública."),!0):(console.log("La clave privada no corresponde a la clave pública."),!1)}(c,n);if(!i)return!1;C(o);const u=function(e,t,a,s){const r=d.Buffer.from(a,"hex"),o=d.Buffer.from(s,"hex"),n=P.pbkdf2Sync(t,o,1e5,32,"sha512"),l=P.createCipheriv("aes-256-cbc",n,r);let c=l.update(e,"utf8","hex");return c+=l.final("hex"),{encrypted:c,iv:r.toString("hex"),salt:o.toString("hex")}}(n,o,r,l),{encrypted:m,iv2:f,salt2:g}=u;return v("usersKeys",{encryptedPrivateKey:m,iv:r,publicKey:c,salt:l,email:s}),!0}}catch(e){return console.log("Error checking decryption with password",e),!1}}var I=a(1006),O=a(9062),T=a(4212);const j=(0,s.createContext)(null),U=({children:e})=>{const[t,a]=(0,s.useState)(null),[r,o]=(0,s.useState)(null),[n,l]=(0,s.useState)([]),[c,i]=(0,s.useState)(null);return(0,s.useEffect)((()=>{S("user").then((e=>{a(e)})),S("userKeyPassword").then((e=>{o(e)})),S("usersList").then((e=>{l(Array.isArray(e)?e:[])}))}),[]),(0,s.useEffect)((()=>{console.log("selectedChatId",c),chrome.storage.local.get(["selectedChatId"],(function(e){i(e.selectedChatId)}))}),[c]),(0,s.useEffect)((()=>{t&&v("user",t)}),[t]),s.createElement(j.Provider,{value:{user:t,updateUser:e=>{a(e)},pass:r,updatePass:e=>{o(e)},usersList:n,updateUsersList:e=>{l(e)},selectedChatId:c,updateSelectedChatId:e=>{i(e),v("selectedChatId",e)}}},e)};var z=a(8364);const L=function({chat:e,users:t,disableCheckbox:a,checked:r}){const{user:o}=(0,s.useContext)(j),{updateSelectedChatId:n,selectedChatId:l}=(0,s.useContext)(j),[c,i]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{chrome.storage.local.get("selectedChatId",(function(t){t.selectedChatId===e.id&&(N(e.id,o.uid),console.log("chat sskey recordada"))}))}),[]),s.createElement("div",null,s.createElement("div",{className:"w-full h-11 flex gap-3 justify-between items-center p-3 ",style:{background:"#1f262e",borderBottom:"1px solid rgba(244, 244, 244, 0.1)"}},s.createElement("div",{className:"flex gap-2 items-center "},s.createElement("div",{className:"profileCont w-14 flex gap-1 overflow-x-auto pb-2 thinScrollH  h-full items-center "},t.map(((e,t)=>s.createElement("img",{key:t,src:e.photoUrl,className:"h-6 rounded-full ",alt:e.displayName,style:{pointerEvents:"none"}})))),s.createElement(I.Z,{title:e.chatName||e.id,placement:"top",arrow:!0},s.createElement("h4",{className:" ml-2 truncate ... font-semibold"},e.chatName||e.id))),s.createElement("div",{className:"flex gap-1 items-center"},c?s.createElement(O.Z,{size:15}):s.createElement(T.Z,{disabled:a,checked:r,onClick:async t=>{i(!0),t.target.checked?(n(e.id),await N(e.id,o.uid)):(n(null),await chrome.runtime.sendMessage({message:"setSessionKey",sessionKey:null})),i(!1)}}),s.createElement(I.Z,{title:"Leave chat",placement:"top"},s.createElement(z.Z,{className:"cursor-pointer",onClick:async function(){confirm("Your ID will be removed from the chat and you will never be able to access the encrypted messages in this chat again. Do you want to continue?")&&(await(async(e,t)=>{const a=(0,h.JU)(E,"chats",e);try{const s=await(0,h.QT)(a);if(s.exists()){const r=s.data(),o=r.users.indexOf(t);o>-1?(r.users.splice(o,1),r.publicKeys.splice(o,1),r.sessionKeys.splice(o,1),0===r.users.length?(await(0,h.oe)(a),console.log(`El chat con ID: ${e} ha sido eliminado porque ya no tiene usuarios.`)):(await(0,h.r7)(a,{users:r.users,publicKeys:r.publicKeys,sessionKeys:r.sessionKeys}),console.log(`El usuario con UID: ${t} ha sido eliminado del chat.`))):console.log(`El usuario con UID: ${t} no se encuentra en el chat.`)}else console.log("El documento del chat no existe.")}catch(e){console.error("Error al eliminar el usuario del chat:",e)}})(e.id,o.uid),l===e.id&&(n(null),await chrome.runtime.sendMessage({message:"setSessionKey",sessionKey:null})),await v("newChats",!0),window.close())},sx:{color:"#f44336",width:"20px",height:"20px"}})))))};var M=a(2574),B=a(3968),A=a(8309);const D=function(){const[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)([]),[n,l]=(0,s.useState)(!1),{selectedChatId:i}=(0,s.useContext)(j),{user:u}=(0,s.useContext)(j),m=(0,o.s0)();return(0,s.useEffect)((()=>{console.log("selectedChatId",i)}),[i]),(0,s.useEffect)((()=>{!async function(){const e=(await S("user")).uid,a=await w(e);if(0===a.length)return;const s=await(async e=>{const t=(0,h.hJ)(E,"chats"),a=(0,h.IO)(t,(0,h.ar)("__name__","in",e));try{const e=await(0,h.PL)(a),t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),t}catch(e){return console.error("Error al obtener los chats:",e),[]}})(a);t(s),v("chats",a)}()}),[]),(0,s.useEffect)((()=>{console.log("valor del chat ahora",i),e.length>0&&async function(){let t;if(l(!0),console.log("chatis",e),e.length>0){t=[];for(let a=0;a<e.length;a++){const s=e[a].users;let r=[];for(let e=0;e<s?.length;e++){const t=await b(s[e]);r.push(t)}t.push({chat:e[a],users:r})}r(t),console.log("asociation",t),v("chat-users",a),l(!1)}}()}),[e]),(0,s.useEffect)((()=>{v("chat-users",a)}),[a]),s.createElement("div",{className:" "},s.createElement("div",{className:"relative flex items-center"},s.createElement(M.Z,{id:"addChatBtn",variant:"contained",sx:{width:"288px",background:c},onClick:()=>{m("/chat")}},"Create")," ",s.createElement(A.Z,{className:"absolute   right-2",sx:{width:"20px",height:"20px"}})),s.createElement("div",{className:"results w-72 overflow-y-auto h-28 relative thin-scrollbar rounded-sm shadow-sm",style:{backgroundColor:"#101418",border:"2px solid rgba(59, 74, 89, 0.2)",borderRadius:"0px 0px 10px 10px",boxShadow:"0px 5px 10px 0px #000000"}},"    ",n&&s.createElement(B.Z,null),"  ",a.map(((e,t)=>s.createElement(L,{key:t,chat:e.chat,users:e.users,disableCheckbox:!!i&&e.chat.id!==i,checked:e.chat.id===i})))," ",0===a.length&&!n&&s.createElement("h4",{className:"font-semibold noResults  "},"No chats yet")))};var R=a(9149),F=a(3319),_=a(3903),J=a(9617),$=a(9164);const W=(0,J.Z)({components:{MuiSwitch:{styleOverrides:{track:{backgroundColor:"#eaeaea",borderRadius:12},switchBase:{color:"#9e9e9e"}}}}}),H=function(){const{user:e}=(0,s.useContext)(j),{usersList:t,updateUsersList:a}=(0,s.useContext)(j),[r,o]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{let e=await S("activated");null==e&&(e=!1),o(e),console.log("activated",r)})()}),[]),(0,s.useEffect)((()=>{(async e=>{const s=await S("usersKeys");if(!s)return;const r=s.publicKey;if(e){const s={username:e.displayName,profilePic:e.photoURL,uid:e.uid,publicKey:r};0===t?.length&&a([s]),console.log("Agregando usuario a la lista de usuarios...")}})(e)}),[]),s.createElement("div",{className:"w-full h-full flex  justify-evenly items-center"},s.createElement("div",{className:" flex flex-col justify-center items-center\r ",style:{backgroundColor:"#101418",width:"30%",height:"50%",borderRadius:"10px",boxShadow:"0px 5px 10px 0px #000000"}},r?s.createElement(F.Z,{sx:{fontSize:40}}):s.createElement(_.Z,{sx:{fontSize:40,opacity:"0.7"}}),s.createElement($.Z,{theme:W},s.createElement(I.Z,{title:"Activate or deactivate the extension",placement:"bottom"},s.createElement(R.Z,{checked:r,onClick:()=>{o(!r),v("activated",!r)}})))),s.createElement(D,null))};var G=a(6655),Q=a(9535);const Y=(0,G.v0)(y),q=function({setgoogleLoged:e}){const{updateUser:t}=(0,s.useContext)(j),[a,r]=(0,s.useState)(!1);return s.createElement("div",{className:"w-full h-full flex flex-col justify-center  items-center "},s.createElement("div",{className:"flex flex-col items-center justify-center card inset-0 gap-5 rounded-md p-10",style:{background:l}},a?s.createElement(O.Z,null):s.createElement(s.Fragment,null," ",s.createElement(Q.Z,{sx:{width:"70px",height:"70px"}}),s.createElement(M.Z,{id:"submitGoogleBtn",variant:"contained",size:"small",sx:{background:c,marginTop:"10px"},className:"",onClick:function(){r(!0),chrome.identity.getAuthToken({interactive:!0},(a=>{!chrome.runtime.lastError&&a?(0,G.sB)(Y,G.hJ.credential(null,a)).then((a=>{console.log("signed in!"),console.log(a.user);const s=(({displayName:e,email:t,photoURL:a,uid:s})=>({displayName:e,email:t,photoURL:a,uid:s}))(a.user),r=s.displayName?s.displayName:s.email.split("@")[0];s.displayName=r,async function(a){await t(a),e(!0)}(s),chrome.storage.sync.get("userSettings",(function(e){if(chrome.runtime.lastError)console.log("Error al obtener los datos:",chrome.runtime.lastError);else try{let t=e.userSettings;t.email=s?.email,chrome.storage.sync.set({userSettings:t},(function(){console.log("Use settings actualizados")})),v("userSettings",t)}catch(e){console.log(e)}}))})).catch((e=>{window.close(),alert(`SSO ended with an error: ${e}`)})):alert(`SSO ended with an error: ${JSON.stringify(chrome.runtime.lastError)}`)}))}},"Sing in with Google"),s.createElement("h4",null,"To sign in with a different account,",s.createElement("br",null)," change GoogleChrome account session."))))};var V=a(6186),X=a(1040),ee=a(2961),te=a(2450),ae=a(6867),se=a(270),re=a(9844),oe=a(8567);const ne=function(){const e=(0,o.s0)(),[t,a]=(0,s.useState)({error:!1,message:""}),r=(0,s.useRef)(),[n,i]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[d,p]=(0,s.useState)({open:!1,severity:"success",message:"Password setted correctly.",color:"#1fb80b"});return s.createElement(s.Fragment,null,d.open&&s.createElement(s.Fragment,null,s.createElement("div",{id:"modal",className:"w-full  h-full absolute z-30 flex justify-center gap-2 flex-col items-center",style:{background:"#1e293b"}},s.createElement(V.Z,{severity:d.severity,className:"w-3/4"},d.message),s.createElement("div",{className:"  "},s.createElement(M.Z,{variant:"contained",onClick:()=>{C(r.current.value),e("/home"),p({...d,open:!1})},id:"modalBtn",sx:{textTransform:"none",background:d.color,height:"25px",fontSize:"16px","&:hover":{backgroundColor:d.color,cursor:"pointer",textTransform:"none"}}},"Continue")))),s.createElement("div",null,s.createElement("form",{className:"flex flex-col items-center card inset-0 p-3  -mt-4 text-white gap-4 w-60 h-64 overflow-hidden rounded-md",style:{background:l},onSubmit:e=>{e.preventDefault()}},s.createElement(oe.Z,{className:"-mt-2",sx:{width:"40px",height:"40px"}}),s.createElement("h3",{className:"-mt-5"},"Please introduce your encryption password.",s.createElement("br",null),s.createElement("i",{className:"text-yellow-400"},"Note: You might find it in your .json downloaded."," ")),s.createElement(X.Z,{id:"passWord",label:"Password",required:!0,className:"-mt-2",inputRef:r,variant:"outlined",onChange:e=>{const t=e.target.value;if(t.length<1)return void a({error:!0,message:"Password cannot be empty."});const s=(e=>e.length<8?"Password must be at least 8 characters long.":/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?"":"Password must contain at least 1 number.":"Password must contain at least 1 lowercase letter.":"Password must contain at least 1 uppercase letter.")(t);a({error:""!==s,message:s})},error:t.error,helperText:t.message,sx:{width:"100%",position:"relative",".MuiInputBase-input":{fontSize:"0.8rem",padding:"10px",color:"white"},".MuiInputLabel-root":{fontSize:"0.8rem",color:"white"},".MuiOutlinedInput-root":{"& fieldset":{borderWidth:"1px",borderColor:"white"}},".MuiOutlinedInput-notchedOutline":{borderColor:"white"},".MuiFormHelperText-root":{color:"inherit"}},type:n?"text":"password",InputProps:{endAdornment:s.createElement(se.Z,{position:"end"},s.createElement(ae.Z,{"aria-label":"toggle password visibility",onClick:()=>{i(!n)},style:{color:"white"}},n?s.createElement(te.Z,null):s.createElement(ee.Z,null)))}}),u?s.createElement(O.Z,null):s.createElement(M.Z,{id:"submitBtnRestore",variant:"contained",size:"small",sx:{background:c,marginTop:"10px"},className:" ",onClick:async function(){if(t.error)return;m(!0);let e=r.current.value;await async function(e){const t=await S("usersKeys");try{const{encryptedPrivateKey:a,iv:s,publicKey:r,salt:o}=t;return console.log("userKeys",t),Z(a,e,s,o),console.log("Password correct"),!0}catch(e){return console.log("Error checking decryption with password method",e),!1}}(e)?(p({...d,open:!0}),m(!1)):(a({error:!0,message:"Incorrect password provided."}),m(!1))}},"Submit"))))};var le=a(8557),ce=a(6451),ie=a(821),ue=a(8037),me=a(8047);const de=function({setselectedOption:e}){const[t,a]=(0,s.useState)({open:!1,severity:"",message:"",color:""}),[r,n]=(0,s.useState)(!1),c=(0,s.useRef)(),[i,u]=(0,s.useState)(null),[m,d]=(0,s.useState)(null),[p,f]=(0,s.useState)(),{pass:h}=(0,s.useContext)(j),g=(0,o.s0)();return(0,s.useEffect)((()=>{h&&g("/home")}),[h]),(0,s.useEffect)((()=>{chrome.storage.local.get("usersKeys",(e=>{console.log("resultadoooo",e),e.usersKeys?f(!0):f(!1)}))})),(0,s.useEffect)((()=>{i||(e(0),n(!1))}),[i]),s.createElement(s.Fragment,null,t.open&&s.createElement(s.Fragment,null,s.createElement("div",{id:"modal",className:"w-full  h-full absolute z-30 flex justify-center gap-2 flex-col items-center",style:{background:"#000000ac"}},s.createElement(V.Z,{severity:t.severity,className:"w-3/4"},t.message),s.createElement("div",{className:"  "},s.createElement(M.Z,{variant:"contained",onClick:function(){a({...t,open:!1}),m&&(v(i),e(2))},id:"modalBtn",sx:{textTransform:"none",background:t.color,height:"25px",fontSize:"16px","&:hover":{backgroundColor:t.color,cursor:"pointer",textTransform:"none"}}},"success"===t.severity?"Continue":"Try again")))),s.createElement("form",{className:"flex justify-center  flex-col items-center card inset-0 p-3  -mt-4 text-white gap-4 w-60 h-64 overflow-hidden rounded-md",style:{background:l},onSubmit:e=>{e.preventDefault()}},r?s.createElement("div",{className:"flex flex-col items-center justify-center gap-2"},s.createElement(ie.Z,{sx:{width:"90px",height:"90px"}}),s.createElement("h4",{className:"text-xl w-full text-center"},"Checking value"),!0===m&&s.createElement(ue.Z,{id:"checkIcon",className:"absolute bottom-3",sx:{width:"50px",height:"50px",color:"1fb80b"}}),null===m&&s.createElement(O.Z,{variant:"indeterminate",disableShrink:!0,size:40,className:"absolute bottom-3"}),!1===m&&s.createElement(me.Z,{color:"error",sx:{width:"50px",height:"50px"},className:"absolute bottom-3"})):s.createElement(s.Fragment,null,s.createElement("h4",{className:"text-xl w-full text-center"},"Select a method to decrypt your keys."," "),s.createElement("div",{className:"optionCont flex flex-col gap-2"},p&&s.createElement(I.Z,{title:"Introduce current password",placement:"top-start"},s.createElement(M.Z,{variant:"outlined",sx:{fontSize:"12px",fontWeight:"700"},endIcon:s.createElement(le.Z,null),onClick:function(){e(1)}},"Introduce Password")),s.createElement("input",{type:"file",style:{display:"none"},ref:c,onChange:async e=>{const t=e.target.files[0];if(t)try{n(!0);const e=await function(e){return new Promise(((t,a)=>{const s=new FileReader;s.onload=e=>t(e.target.result),s.onerror=e=>a(e),s.readAsText(e)}))}(t);let s;try{s=JSON.parse(e)}catch(e){return void a({open:!0,severity:"error",message:"The file format does not meet the expected specifications. \n Only JSON files accepted. ",color:"#bf0808"})}if(p){const e=await async function(e){const t=await S("usersKeys");console.log("userKeys",t);try{const{email:a,iv:s,password:r,privateKey:o,salt:n}=e,{encryptedPrivateKey:l}=t;return Z(l,r,s,n)===o&&(console.log("Password correct"),a===t.email&&(console.log("Email correct"),!0))}catch(e){return console.log("Error checking decryption with password",e),!1}}(s);console.log("json",s),e&&(d(!0),console.log("Json checked",e),u(s),C(s.password),a({open:!0,severity:"success",message:"Checked file for: "+s.email+"\nYour encryption password is: "+s.password,color:"#1fb80b"}),n(!1)),e||(d(!1),setTimeout((()=>{a({open:!0,severity:"error",message:"Incorrect or modified file, please check your file and try again",color:"#bf0808"}),n(!1),d(null)}),500))}else{const e=await K(s);console.log("json",s),e&&(d(!0),console.log("Json checked",e),u(s),C(s.password),a({open:!0,severity:"success",message:"Checked file for: "+s.email+"\nYour encryption password is: "+s.password,color:"#1fb80b"}),n(!1)),e||(d(!1),setTimeout((()=>{a({open:!0,severity:"error",message:"Incorrect or modified file, please check your file and try again",color:"#bf0808"}),n(!1),d(null)}),500))}}catch(e){console.error("Error al manejar el archivo:",e),a({open:!0,severity:"error",message:"File reading error",color:"#bf0808"})}},accept:".json"}),s.createElement(I.Z,{title:"Upload your config file.",placement:"top-start"},s.createElement(M.Z,{variant:"contained",sx:{fontSize:"12px",fontWeight:"700"},endIcon:s.createElement(ce.Z,null),onClick:function(){c.current.click()}},"Upload file"))))))},pe=function(){const{pass:e,updatePass:t}=(0,s.useContext)(j),{user:a}=(0,s.useContext)(j),[r,n]=(0,s.useState)(0),[u,m]=(0,s.useState)(0),[d,f]=(0,s.useState)(10),[g,y]=(0,s.useState)(0),[b,w]=(0,s.useState)(!1),[N,K]=(0,s.useState)(!1),[I,T]=(0,s.useState)({error:!1,message:""}),[U,z]=(0,s.useState)(!1),[L,B]=(0,s.useState)(!1),A=(0,o.s0)(),[D,R]=(0,s.useState)(),[F,_]=(0,s.useState)(!1);(0,s.useEffect)((()=>{chrome.storage.local.get("userKeyPassword",(e=>{e.userKeyPassword&&(B(!0),console.log("pas aqui"))})),e||(async()=>{if(e)return B(!0),void A("/home");try{const e=await k();console.log("recoveredPass",e),e&&(t(e),B(!0),A("/home"))}catch(e){console.error("Error al recuperar la contraseña:",e)}})()})),(0,s.useEffect)((()=>{(async()=>{let e;if(a)e=await x(a.uid);else{const t=await S("user");e=await x(t.uid)}e&&(B(!0),console.log("user exists")),await S("userKeyPassword")&&B(!0)})()}),[]);const J=(0,s.useRef)();return(0,s.useEffect)((()=>{if(N){if(u>0)return;m(1);const e=setInterval((()=>{f((e=>e-1))}),1e3);return()=>clearInterval(e)}}),[N]),(0,s.useEffect)((()=>{0===d&&(K(!1),y(0))}),[d]),(0,s.useEffect)((()=>{D&&!F&&(_(!0),async function(){if(console.log("config",D),!D)return;J.current.value;const{finalPassword:e,encrypted:t,iv:a,salt:s,publicKey:r,privateKey:o}=D,n=(await S("user")).email;let l={email:n,password:e,encryptedPrivateKey:t,iv:a,salt:s,publicKey:r,privateKey:o};v("usersKeys",{email:n,publicKey:r,encryptedPrivateKey:t,iv:a,salt:s}),chrome.runtime.sendMessage({type:"downloadFile",text:l},(e=>{e.success?(console.log("Descarga iniciada"),A("/home"),w(!1)):console.error("Error al iniciar la descarga")}))}())}),[D]),(0,s.useEffect)((()=>{2===r&&A("/home")}),[r]),s.createElement("div",{className:"flex flex-col w-screen  overflow-hidden h-screen relative justify-center items-center"},L?1===r?s.createElement(ne,null):s.createElement(de,{setselectedOption:n}):s.createElement(s.Fragment,null," ",N&&s.createElement("div",{id:"modal",className:"w-full  h-full absolute z-30  flex justify-center items-center",style:{background:"#000000ac"}},s.createElement(V.Z,{severity:"warning",className:"w-3/4"},"Please make sure you remember your password, a configuration backup file with your keys will be downloaded. ",s.createElement("br",null),"This file contains sensitive data, please do not share it and keep it safe."),s.createElement("div",{className:"w-4 h-4 rounded-full   bottom-14 absolute flex justify-center text-3xl items-center "},d)),s.createElement("form",{className:"flex card flex-col items-center  inset-0 p-3 text-white gap-4 w-60 h-64 overflow-hidden rounded-md",style:{background:l},onSubmit:e=>{e.preventDefault()}},s.createElement(re.Z,{className:"",sx:{width:"40px",height:"40px"}}),s.createElement("h3",{className:" -mt-2"},"Please choose a password for your key encryption.",s.createElement("br",null),s.createElement("span",{className:"text-slate-400"},"A configuration backup file will be downloaded.","     "),s.createElement("a",{href:"#",className:"",style:{color:i,fontSize:"12px"}},"Learn more.")),s.createElement(X.Z,{id:"passWord",label:"Password",required:!0,onClick:()=>{u>0||(K(g<1),y(1))},className:"",inputRef:J,variant:"outlined",onChange:e=>{const t=e.target.value;if(t.length<1)return void T({error:!0,message:"Password cannot be empty."});const a=(e=>e.length<8?"Password must be at least 8 characters long.":/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?"":"Password must contain at least 1 number.":"Password must contain at least 1 lowercase letter.":"Password must contain at least 1 uppercase letter.")(t);T({error:""!==a,message:a})},error:I.error,helperText:I.message,sx:{marginTop:"-10px",width:"100%",position:"relative",".MuiInputBase-input":{fontSize:"0.8rem",padding:"10px",color:"white"},".MuiInputLabel-root":{fontSize:"0.8rem",color:"white"},".MuiOutlinedInput-root":{"& fieldset":{borderWidth:"1px",borderColor:"white"}},".MuiOutlinedInput-notchedOutline":{borderColor:"white"},".MuiFormHelperText-root":{color:"inherit",fontSize:"10px"}},type:U?"text":"password",InputProps:{endAdornment:s.createElement(se.Z,{position:"end"},s.createElement(ae.Z,{"aria-label":"toggle password visibility",onClick:()=>{z(!U)},style:{color:"white"}},U?s.createElement(te.Z,null):s.createElement(ee.Z,null)))}}),b?s.createElement(O.Z,null):s.createElement(M.Z,{id:"submitBtn",variant:"contained",size:"small",sx:{background:c,marginTop:"30px"},className:"absolute ",onClick:function(){I.error||J.current.value.length<1?J.current.value.length<1&&T({error:!0,message:"Password cannot be empty."}):(async function(){const e=J.current.value;if(!await S("usersKeys")){{C(e),w(!0);const{publicKey:t,privateKey:a}=function(){const e=new p.Z({default_key_size:2048});return{privateKey:e.getPrivateKey(),publicKey:e.getPublicKey()}}();console.log("publicKey",t),console.log("privateKey",a);const s=function(e,t){const a=P.randomBytes(16),s=P.pbkdf2Sync(t,a,1e5,32,"sha512"),r=P.randomBytes(16),o=P.createCipheriv("aes-256-cbc",s,r);let n=o.update(e,"utf8","hex");return n+=o.final("hex"),{encrypted:n,iv:r.toString("hex"),salt:a.toString("hex")}}(a,e);console.log("data",s);const{encrypted:r,iv:o,salt:n}=s;let l;console.log("encryptedPrivateKey",r);try{l=Z(r,e,o,n),console.log("decryptedPrivateKey",l),R({finalPassword:e,encrypted:r,iv:o,salt:n,publicKey:t,privateKey:a})}catch(e){console.error("Error decrypting with correct password:",e)}try{let e=await S("user");(async e=>{if(await x(e.uid))console.log(`El usuario con UID: ${e.uid} ya existe.`);else{const t=(0,h.JU)(E,"usersPublic",e.uid);await(0,h.pl)(t,e),console.log(`Nuevo usuario con UID: ${e.uid} ha sido añadido.`)}})({displayName:e.displayName,photoUrl:e.photoURL,publicKey:t,uid:e.uid}),v("user",e)}catch(e){console.log(e)}}v("userKeyPassword",!0)}}(),w(!0))}},"Submit"))))},fe=function(){const[e,t]=(0,s.useState)(!1),{updateUser:a}=(0,s.useContext)(j),[r,n]=(0,s.useState)(!1);return(0,o.s0)(),(0,s.useEffect)((()=>{!async function(){let e=await S("user");if(console.log("result",e),e){const s=(({accessToken:e,displayName:t,email:a,photoURL:s,uid:r})=>({accessToken:e,displayName:t,email:a,photoURL:s,uid:r}))(e);console.log("destructuredResult",s),a(s),t(!0)}}(),chrome.storage.local.get("userKeyPassword",(e=>{e.userKeyPassword&&n(!0)}))}),[]),s.createElement("div",{className:"w-full h-full"},e?s.createElement(pe,null):s.createElement(q,{setgoogleLoged:t}))},he=a.p+"22e5d80416ae99c1fa1f.png";var ge=a(4930),ye=a(3067),Ee=a(9469),xe=a(891),be=a(9655);const we=function(){const[e,t]=(0,s.useState)(""),[a,r]=(0,s.useState)(!0),n=(0,o.s0)(),[u,m]=(0,s.useState)(!0),{pass:d,updatePass:p}=(0,s.useContext)(j);return(0,s.useEffect)((()=>{d||(async()=>{if(d)n("/home");else try{const e=await k();console.log("recoveredPass desde presentation"),e&&(p(e),n("/home"))}catch(e){console.error("Error al recuperar la contraseña:",e)}})()})),(0,s.useEffect)((()=>{setTimeout((()=>{m(!1)}),3e3),chrome.storage.sync.get(null,(function(e){if(console.log(e),e?.presentationViewed)n("/login");else{let e={presentationViewed:!0,loginMade:!1,email:"",passwordEstablished:!1};try{chrome.storage.sync.set(e,(function(){console.log("Datos almacenados en chrome.storage.sync")}))}catch(e){console.log(e)}}}))}),[]),(0,s.useEffect)((()=>{if(chrome.storage.session.get(["logoSeen"],(function(e){e.logoSeen||(console.log("La animación de carga se mostrará."),m(!0))})),!u&&e.length<97){const a=setTimeout((()=>{t("HatChat is an advanced tool designed to enhance privacy and security in your online interactions.".slice(0,e.length+1))}),20);return()=>clearTimeout(a)}})),(0,s.useEffect)((()=>{const e=setTimeout((()=>{r(!1)}),7500);return()=>clearTimeout(e)}),[]),s.createElement("div",{id:"presentationCont",className:"relative p-3 h-full flex justify-start flex-col items-center"},s.createElement("h2",{className:"mt-5 font-sans  text-slate-900 text-2xl tracking-tight mb-7 text-center font-bold",style:{color:"#fff"}},'"Encrypt to Protect."'),s.createElement("div",{className:"imgCont relative w-full inset-0 h-36 gap-3 flex p-4 rounded-md justify-between items-start",style:{backgroundColor:l}},s.createElement("div",{className:"textCont textParagraph"},s.createElement("br",null),e," ",s.createElement("br",null),97===e.length&&s.createElement("a",{href:"https://github.com/kpk000/HatChat-Documentation",target:"_blank",className:"text-xs",style:{color:i}},"Learn More")),s.createElement("img",{id:"imgPresentation",src:he,className:"reflection h-28",alt:""})),s.createElement("div",{className:"representation w-full p-3"},s.createElement("div",{className:"user left"},s.createElement(Ee.Z,{fontSize:"small",className:"key1 key",sx:{width:"15px",color:"#FFD700"}}),s.createElement(ye.Z,{fontSize:"medium"}),s.createElement("div",{className:"mailCont relative left-11 bottom-5 "},s.createElement(xe.Z,{fontSize:"small",className:"message absolute original"}),s.createElement(F.Z,{fontSize:"small",className:"message absolute encrypted"}))),s.createElement("div",{className:"user right"},s.createElement("div",{className:"mailCont relative"},s.createElement(xe.Z,{fontSize:"small",className:"message2 top-1 -left-7 absolute original2"})),s.createElement(ge.Z,{fontSize:"medium",className:"user"}),s.createElement(Ee.Z,{fontSize:"small",className:"key2 key",sx:{width:"15px",color:"#FFD700"}}))),!a&&s.createElement(be.rU,{to:"/login"},s.createElement(M.Z,{id:"continueBtn",variant:"contained",size:"small",sx:{background:c},className:"absolute  bottom-10"},"Continue")))};var ve=a(9331),Ne=a(7109);const Se=function(){return s.createElement("div",{id:"loadAppScreen",className:" flex justify-center items-center"},s.createElement("div",{className:"imgCont"},s.createElement("img",{src:he,alt:"logo",id:"imgLoadApp",className:"animate-spin-slow"})))};var Ce=a(9916),ke=a(3906),Pe=a(2658),Ze=a(2761),Ke=a(3205),Ie=a(336);const Oe=function({username:e,profilePic:t,uid:a,publicKey:r}){const{usersList:o,updateUsersList:n}=(0,s.useContext)(j),[l,i]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{console.log(o);const e=o.some((e=>e.uid===a));i(!!e)}),[]),s.createElement("div",{className:"w-full h-9 flex gap-3 justify-between items-center p-3 ",style:{background:"#1f262e",borderBottom:"1px solid rgba(244, 244, 244, 0.1)"}},s.createElement("div",{className:"flex gap-2 items-center\r "},s.createElement("img",{src:t,className:"h-6 rounded-full",alt:e}),s.createElement("h3",{className:"font-semibold"},e)),l?s.createElement(Ie.Z,{className:"cursor-pointer",onClick:function(){i(!1),n(o.filter((e=>e.uid!==a)))},style:{color:u}}):s.createElement(Ke.Z,{onClick:function(){i(!0),o.some((e=>e.uid===a))?console.log(`El usuario con UID: ${a} ya está en la lista.`):n([...o,{username:e,profilePic:t,uid:a,publicKey:r}])},className:"cursor-pointer",sx:{color:c}}))};var Te=a(6307),je=a(8238),Ue=a(9769),ze=a(1023),Le=a(594);const Me=function(){const{usersList:e,updateUsersList:t}=(0,s.useContext)(j),{user:a}=(0,s.useContext)(j),[r,n]=(0,s.useState)(""),c=(0,je.Nr)(r,2e3),[i,u]=(0,s.useState)([]),[d,f]=(0,s.useState)(!1),[y,x]=(0,s.useState)({open:!1,severity:"success",message:"Chat created succesfuly !!",color:"#1fb80b"}),N=(0,o.s0)(),[S,C]=(0,s.useState)(!1),[k,Z]=(0,s.useState)(""),[K,O]=(0,s.useState)(!1),[T,U]=(0,s.useState)(!1);async function z(){if(f(!0),e.length<2)return;const a=await(async(e,t)=>{for(const t of e)if((await w(t.uid)).length>=4)return{status:!1,message:`User "${t.username}" , already has 4 chats session.`};const a=P.randomBytes(32).toString("hex"),s=e.map((e=>e.uid)),r=e.map((e=>e.publicKey)),o=e.map((e=>function(e,t){const a=new p.Z;return a.setPublicKey(e),a.encrypt(t)}(e.publicKey,a))),n=(0,g.Z)(),l=(0,h.JU)(E,"chats",n);return await(0,h.pl)(l,{chatName:t,users:s,publicKeys:r,sessionKeys:o}),console.log(`Chat con ID ${n} ha sido creado.`),{status:!0,chatId:n}})(e,k);var s;a.status?(console.log("Chat creado con éxito."),t([e[0]]),v("newChats",!0),x({...y,open:!0}),s=a.chatId,chrome.storage.local.get("chats",(e=>{let t=e.chats||[];t.push(s),chrome.storage.local.set({chats:t},(()=>{console.log("Nuevo chat añadido:",s)}))}))):(f(!1),x({...y,open:!0,severity:"error",message:"Error creating chat.\n"+a.message,color:"#f44336"})),f(!1)}return(0,s.useEffect)((()=>{c&&""!==c.trim()&&c.length>=28&&O(!0)}),[c]),(0,s.useEffect)((()=>{c&&""!==c.trim()&&c.length&&(O(!0),async function(){const e=c.split(",").filter((e=>e.uid!==a?.uid));let t=[];for(let a=0;a<e.length;a++){const s=await b(e[a]);s&&t.push(s)}t?u(t):U(!0),O(!1)}())}),[c]),(0,s.useEffect)((()=>{console.log(k)}),[k]),s.createElement("div",{className:"w-full h-full flex justify-center items-center"},y.open&&s.createElement(s.Fragment,null,s.createElement("div",{id:"modal",className:"w-full  h-full absolute z-30 flex justify-center gap-2 flex-col items-center",style:{background:"#000000ac"}},s.createElement(V.Z,{severity:y.severity,className:"w-3/4"},y.message),s.createElement("div",{className:"  "},s.createElement(M.Z,{variant:"contained",onClick:()=>{N("/home"),x({...y,open:!1})},id:"modalBtn",sx:{textTransform:"none",background:y.color,height:"25px",fontSize:"16px","&:hover":{backgroundColor:y.color,cursor:"pointer",textTransform:"none"}}},"Continue")))),s.createElement("div",{id:"mainChatCont",className:"w-96 mt-7 h-60 card inset-0 gap-3 rounded-md flex flex-col justify-center items-center  ",style:{backgroundColor:l}}," ",s.createElement(ze.Z,{className:"absolute top-3 left-3 cursor-pointer",onClick:()=>{N("/home")}}),s.createElement("div",{className:"textCont flex  items-center"},s.createElement("input",{type:"text",id:"searchInput",className:"w-44 px-3 py-2 rounded outline-none shadow-sm text-black text-sm",placeholder:"Id 1, Id 2, Id 3 ...",value:r,onChange:e=>{U(!1),i&&u([]),n(e.target.value)}}),s.createElement(Ze.Z,{className:"absolute text-gray-600"})),s.createElement("div",{className:"results w-80 overflow-y-auto h-28 relative thin-scrollbar rounded-sm shadow-sm",style:{backgroundColor:"#101418",border:" 2px solid rgba(59, 74, 89, 0.2)"}},K&&s.createElement(B.Z,null),i.length?i.map(((e,t)=>s.createElement(Oe,{key:t,username:e.displayName,profilePic:e.photoUrl,uid:e.uid,publicKey:e.publicKey}))):!1===i?s.createElement("h4",{className:"font-semibold noResults flex flex-col items-center"},s.createElement("span",null,"Not users found "),s.createElement(Ue.Z,{sx:{width:"50px",color:"#343aeb"}})," "):null),s.createElement("div",{className:"footer w-80 h-8 flex justify-between"},s.createElement("div",{className:"usersAdded flex gap-2 h-8 overflow-x-auto thin-scrollbar w-4/5"},e.map(((e,t)=>s.createElement("div",{key:t,className:"userAdded flex flex-col gap-1 items-center"},s.createElement("img",{src:e.profilePic,className:"h-5 rounded-full",alt:e.username}))))),s.createElement("div",{className:"w-1/5 flex justify-end "},e.length>1&&s.createElement(I.Z,{title:"Create chat",placement:"top-start",className:"w-1/5"},s.createElement(Te.Z,{className:"cursor-pointer",sx:{color:m},onClick:function(){""==k.trim()&&C(!0)}})),s.createElement(Ce.Z,{open:S,className:"flex justify-center items-center text-white ","aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},s.createElement(ke.Z,{className:"bg-slate-800 text-center px-16 py-5 relative rounded-md flex flex-col items-center "},s.createElement(Le.Z,{className:"absolute top-3 right-3 cursor-pointer",onClick:()=>C(!1)}),s.createElement(Pe.Z,{id:"modal-modal-title",variant:"h6",component:"h2"},"Select a group name:"),s.createElement("div",{className:"flex items-center gap-3 justify-center"},s.createElement(X.Z,{id:"standard-basic",className:"groupInput",label:"Group name",variant:"standard",onChange:e=>{Z(e.target.value)},sx:{".MuiInputBase-input":{fontSize:"0.8rem",padding:"10px",color:"white"},"& .MuiInput-underline:before":{borderBottomColor:"white"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:"white"},".MuiInputLabel-root":{color:"grey"}}}),s.createElement(M.Z,{variant:"contained",onClick:()=>{""!=k.trim()&&(z(),C(!1))},className:"mt-3 okBtn",disabled:d,sx:{width:"40px",height:"25px",fontSize:"12px",textTransform:"none",marginTop:"6px"}},"OK"))))))))},Be=function(){const[e,t]=(0,s.useState)(""),{user:a}=(0,s.useContext)(j),r=(0,o.s0)(),{updatePass:l}=(0,s.useContext)(j),[c,i]=(0,s.useState)("User"),[u,m]=(0,s.useState)(!1),{usersList:d,updateUsersList:p}=(0,s.useContext)(j);return(0,s.useEffect)((()=>{(async()=>{chrome.runtime.sendMessage({message:"getPass"},(function(e){console.log("Respuesta de getPass:",e),l(e.pass),e.pass&&(console.log("NAVEGANDO A HOME:",e.pass),r("/home"))}))})(),(async e=>{const t=await S("usersKeys");if(!t)return;const a=t.publicKey;if(e){const t={username:e.displayName,profilePic:e.photoURL,uid:e.uid,publicKey:a},s=d.some((e=>e.uid===t.uid));s?console.log(`El usuario con UID: ${t.uid} ya está en la lista.`):p([...d,t])}})(a),chrome.storage.session.get(["logoSeen"],(function(e){if(!e.logoSeen){m(!0),chrome.storage.session.set({logoSeen:!0});const e=setTimeout((()=>{m(!1)}),3500);return()=>clearTimeout(e)}console.log("La animación de carga ya fue mostrada anteriormente.")})),a&&(t(a.photoURL),i(a.displayName?a.displayName:a.email?.split("@")[0]))}),[a]),s.createElement(s.Fragment,null,u&&s.createElement(Se,null),s.createElement("div",{id:"app",className:"p-2 relative text-white overflow-hidden"},a&&s.createElement(I.Z,{placement:"bottom-end",title:"ID:\n "+a.uid,arrow:!0,componentsProps:{tooltip:{sx:{bgcolor:"#101418",fontSize:"14px",fontWeight:"bold","& .MuiTooltip-arrow":{color:"#101418"}}}}},s.createElement("div",{className:"userInfo pl-2 absolute left-1 flex gap-1 items-center"},s.createElement(Ne.Z,{alt:c,sx:{width:24,height:24},src:e}),s.createElement("h3",{className:"leading-tight font-semibold"},c))),s.createElement(o.Z5,null,s.createElement(o.AW,{path:"/",element:s.createElement(we,null)}),s.createElement(o.AW,{path:"/login",element:s.createElement(fe,null)}),s.createElement(o.AW,{path:"/home",element:s.createElement(H,null)}),s.createElement(o.AW,{path:"/chat",element:s.createElement(Me,null)})),s.createElement(ve.Z,{id:"toOptions",style:{color:n},name:"Go to options",className:"",onClick:()=>{chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage():window.open(chrome.runtime.getURL("options.html"))}},s.createElement("u",null,"Options"))))},Ae=document.getElementById("root");(0,r.s)(Ae).render(s.createElement(be.UT,null,s.createElement(U,null," ",s.createElement(Be,null))))},950:()=>{},6601:()=>{},9214:()=>{},8623:()=>{},7748:()=>{},5568:()=>{},6619:()=>{},7108:()=>{},2361:()=>{},4616:()=>{}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={id:e,loaded:!1,exports:{}};return s[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=s,e=[],o.O=(t,a,s,r)=>{if(!a){var n=1/0;for(u=0;u<e.length;u++){for(var[a,s,r]=e[u],l=!0,c=0;c<a.length;c++)(!1&r||n>=r)&&Object.keys(o.O).every((e=>o.O[e](a[c])))?a.splice(c--,1):(l=!1,r<n&&(n=r));if(l){e.splice(u--,1);var i=s();void 0!==i&&(t=i)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,s,r]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var r=Object.create(null);o.r(r);var n={};t=t||[null,a({}),a([]),a(a)];for(var l=2&s&&e;"object"==typeof l&&!~t.indexOf(l);l=a(l))Object.getOwnPropertyNames(l).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,o.d(r,n),r},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var s=a.length-1;s>-1&&!e;)e=a[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={42:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var s,r,[n,l,c]=a,i=0;if(n.some((t=>0!==e[t]))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(c)var u=c(o)}for(t&&t(a);i<n.length;i++)r=n[i],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(u)},a=self.webpackChunkumbrachat=self.webpackChunkumbrachat||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=o.O(void 0,[371,905],(()=>o(4818)));n=o.O(n)})();